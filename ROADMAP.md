# Toumo 成熟设计工具 Roadmap

**目标**: 对标 Figma/Canva/美图秀秀，成为成熟可靠的设计工具

## 🎯 核心差距分析

### 当前已有 (41个功能)
- ✅ 画布拖拽/缩放/平移
- ✅ 元素 resize
- ✅ 框选多选
- ✅ 对齐/分布
- ✅ 撤销/重做
- ✅ 复制/粘贴
- ✅ 分组/取消分组
- ✅ 锁定/隐藏
- ✅ 层级调整
- ✅ 右键菜单
- ✅ 快捷键系统
- ✅ Inspector 面板

### 🔴 P0 - 必须有 (设计工具基础)

#### 1. 元素类型
- [x] **矩形** (Rectangle) - 圆角、填充、描边 ✅
- [x] **椭圆** (Ellipse) - 圆形、椭圆 ✅
- [x] **文本** (Text) - 字体、大小、颜色、对齐 ✅
- [x] **图片** (Image) - 导入、裁剪、滤镜 ✅
- [x] **线条** (Line) - 直线、箭头 ✅
- [ ] **钢笔** (Pen) - 贝塞尔曲线

#### 2. 样式系统
- [x] **填充** - 纯色 ✅ 渐变 ✅
- [x] **描边** - 粗细 ✅ 样式 ✅
- [x] **阴影** - 外阴影 ✅ 内阴影 ✅ 模糊 ✅
- [x] **圆角** - 统一控制 ✅ 四角独立 ✅
- [x] **透明度** - 元素级别 ✅

#### 3. 工具栏
- [x] **选择工具** (V) ✅
- [x] **矩形工具** (R) ✅
- [x] **椭圆工具** (O) ✅
- [x] **文本工具** (T) ✅
- [ ] **钢笔工具** (P)
- [x] **手型工具** (H) ✅

#### 4. 文件操作
- [x] **新建画布** - 自定义尺寸 ✅
- [x] **保存/加载** - JSON 格式 ✅
- [x] **导出** - PNG ✅ SVG ✅

### 🟡 P1 - 应该有 (提升体验)

#### 5. 高级编辑
- [x] **智能参考线** - 对齐吸附 ✅
- [ ] **标尺** - 顶部/左侧
- [ ] **网格吸附** - 可配置间距
- [x] **旋转** - 任意角度 ✅
- [x] **翻转** - 水平/垂直 ✅
- [ ] **布尔运算** - 合并/相减/相交

#### 6. 图层面板增强
- [x] **缩略图预览** - 颜色预览 ✅
- [x] **拖拽排序** ✅
- [x] **多选操作** ✅
- [x] **搜索过滤** ✅

#### 7. 颜色系统
- [x] **颜色选择器** - HEX ✅
- [x] **吸管工具** ✅
- [x] **最近使用颜色** ✅
- [x] **调色板** - 预设颜色 ✅

### 🟢 P2 - 锦上添花 (竞争优势)

#### 8. 模板系统
- [ ] **预设模板** - 海报、名片、社交媒体
- [ ] **自定义模板**

#### 9. 资源库
- [ ] **图标库**
- [ ] **字体库**
- [ ] **图片素材**

#### 10. 协作功能
- [ ] **实时协作**
- [ ] **评论**
- [ ] **版本历史**

---

## 📋 开发顺序

### Phase 1: 基础元素 (今天)
1. 工具栏 UI
2. 矩形工具
3. 椭圆工具
4. 文本工具
5. 样式面板 (填充/描边)

### Phase 2: 样式系统 (明天)
1. 颜色选择器
2. 渐变编辑器
3. 阴影控制
4. 圆角控制

### Phase 3: 文件操作
1. 保存/加载 JSON
2. 导出 PNG
3. 导出 SVG

### Phase 4: 高级功能
1. 智能参考线
2. 标尺
3. 旋转
4. 布尔运算

---

## 🏗️ 代码重构计划

当前问题: 2000+ 行全在 App.tsx

目标结构:
```
src/
├── components/
│   ├── Canvas/
│   ├── Toolbar/
│   ├── Inspector/
│   ├── LayerPanel/
│   └── ColorPicker/
├── hooks/
│   ├── useHistory.ts
│   ├── useKeyboard.ts
│   └── useCanvas.ts
├── stores/
│   └── editorStore.ts (Zustand)
├── types/
│   └── index.ts
└── utils/
    └── geometry.ts
```
