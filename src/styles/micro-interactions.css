/* ═══════════════════════════════════════════════════
   Micro-Interactions — 让设计师感到"这个工具很用心"
   ═══════════════════════════════════════════════════ */

/* ── 1. 创建元素时的弹入动画 ── */
@keyframes element-pop-in {
  from {
    opacity: 0;
    scale: 0.85;
  }
  to {
    opacity: 1;
    scale: 1;
  }
}

.canvas-element-enter {
  animation: element-pop-in 220ms cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* ── 2. 删除元素时的淡出动画 ── */
@keyframes element-fade-out {
  from {
    opacity: 1;
    scale: 1;
  }
  to {
    opacity: 0;
    scale: 0.88;
  }
}

.canvas-element-exit {
  animation: element-fade-out 200ms cubic-bezier(0.4, 0, 1, 1) both;
  pointer-events: none;
}

/* ── 3. 面板切换时的过渡动画 ── */
@keyframes panel-slide-in {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.panel-transition-enter {
  animation: panel-slide-in 180ms cubic-bezier(0.22, 1, 0.36, 1) both;
}

/* Inspector section collapse/expand */
.section-content {
  transition: max-height 200ms cubic-bezier(0.4, 0, 0.2, 1),
              opacity 150ms ease;
}

.section-content.collapsed {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
}

.section-content.expanded {
  max-height: 2000px;
  opacity: 1;
}

/* ── 4. 状态切换时的平滑过渡 ── */

/* 工具按钮 active 状态切换 */
.tool-btn {
  transition: background 150ms ease, color 150ms ease,
              transform 100ms ease, box-shadow 150ms ease;
}

.tool-btn.active {
  transition: background 120ms ease, color 120ms ease,
              box-shadow 200ms ease;
}

/* 图层面板行 - 选中/悬停状态平滑过渡 */
.layer-row {
  transition: background 120ms ease,
              border-color 120ms ease,
              opacity 150ms ease;
}

/* 画布元素选中边框平滑出现 */
.canvas-element-selection-border {
  transition: opacity 100ms ease, border-color 120ms ease;
}

/* 关键帧卡片 active 状态 */
.keyframe-card {
  transition: border-color 180ms ease,
              box-shadow 200ms cubic-bezier(0.4, 0, 0.2, 1),
              transform 150ms ease;
}

/* Inspector section 折叠箭头旋转 */
.section-toggle {
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* 面板 resize handle 出现 */
.panel-resize-handle {
  transition: opacity 150ms ease, background 150ms ease;
}

/* 可见性/锁定图标状态切换 */
.layer-action-icon {
  transition: color 120ms ease, opacity 120ms ease;
}

/* 画布缩放控件 */
.zoom-controls {
  transition: opacity 200ms ease;
}

/* 颜色选择器色块 hover */
.color-swatch {
  transition: transform 100ms ease, box-shadow 150ms ease;
}

.color-swatch:hover {
  transform: scale(1.15);
  box-shadow: 0 0 0 2px var(--accent);
}
